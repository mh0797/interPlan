_target_: interplan.planning.scenario_builder.benchmark_scenario_filter.BenchmarkScenarioFilter
_convert_: 'all'

scenario_types:  null                # List of scenario types to include
scenario_tokens:                # List of scenario tokens to include
  - 71f182558ee95100-s0
  - cfad48a855765482-s0
  - 2d62c3139aa95007-s0
  - c710330e5114501c-s0
  - c710330e5114501c-s1
  - 5016a2a4ad1350d6-s0
  - 81f400b414215325-s0
  - 948201ecfe2c560a-s0

log_names: ${splitter.log_splits.test}  # Use all logs present in the test split
map_names: null                     # Filter scenarios by map names

num_scenarios_per_type: 100         # Number of scenarios per type
limit_total_scenarios: null         # Limit total scenarios (float = fraction, int = num) - this filter can be applied on top of num_scenarios_per_type
timestamp_threshold_s: null         # Filter scenarios to ensure scenarios have more than `timestamp_threshold_s` seconds between their initial lidar timestamps
ego_displacement_minimum_m: null    # Whether to remove scenarios where the ego moves less than a certain amount
ego_start_speed_threshold: null     # Limit to scenarios where the ego reaches a certain speed from below
ego_stop_speed_threshold: null      # Limit to scenarios where the ego reaches a certain speed from above
speed_noise_tolerance: null         # Value at or below which a speed change between two timepoints should be ignored as noise.

expand_scenarios: false             # Whether to expand multi-sample scenarios to multiple single-sample scenarios
remove_invalid_goals: false          # Whether to remove scenarios where the mission goal is invalid
shuffle: false                      # Whether to shuffle the scenarios

only_in_benchmark_scenarios: true             # Only include tokens-modifications from the list of valid tokens
valid_tokens: {                      # Tokens included in the benchmark and their modifications
  18089089fbd655a5: {goal: [l,r,s], density: [l,m,h], observation: [a,c,m], agent_variations: [0], special_scenario: []},
  cfad48a855765482: {goal: [l,s], density: [l,m,h], observation: [a,c,m], agent_variations: [0], special_scenario: [0]}, 
  d480a5d2b0fe5fe6: {goal: [l,s], density: [l,m,h], observation: [a,c,m], agent_variations: [0], special_scenario: []}, 
  feb82815b92a5512: {goal: [l,r,s], density: [l,m,h], observation: [a,c,m], agent_variations: [0], special_scenario: []},
  5eb9b51ebe1758df: {goal: [l,r,s], density: [l,m,h], observation: [a,c,m], agent_variations: [0], special_scenario: []},
  cd0e827efbe85a8f: {goal: [r,s], density: [l,m], observation: [a,c,m], agent_variations: [0], special_scenario: []}, 
  71f182558ee95100: {goal: [l,r,s], density: [l,m], observation: [a,c,m], agent_variations: [0], special_scenario: [0]},
  948201ecfe2c560a: {goal: [l,s], density: [l,m], observation: [a,c,m], agent_variations: [0], special_scenario: [0]}, 
  5016a2a4ad1350d6: {goal: [l,r,s], density: [l,m,h], observation: [a,c,m], agent_variations: [0], special_scenario: [0]},
  2d62c3139aa95007: {goal: [l,r,s], density: [l,m,h], observation: [a,c,m], agent_variations: [0], special_scenario: [0, 1]},
  81f400b414215325: {goal: [r,s], density: [l,m,h], observation: [a,c,m], agent_variations: [0], special_scenario: [0]},
  c710330e5114501c: {goal: [l,r,s], density: [l,m,h], observation: [a,c,m], agent_variations: [0], special_scenario: [0, 1]}}

modifications:
  accel_max: ${oc.select:observation.accel_max, 1}
  decel_max: ${oc.select:observation.decel_max, 2}
  scenario_specifics: null
  modification_details_dictionary: # Not to be modified by the user
    18089089fbd655a5:
      extra_agents_spawn_locations: []
      goal:
        left: 664444.96, 3998088.68
        right: 664584.62, 3997860.64
        straight: 664588.19, 3997852.86
    2d62c3139aa95007:
      extra_agents_to_spawn: []
      goal:
        left: null
        right: null
        straight: null
      roadblock_locations_to_spawn_agents:
      - - 365395.63
        - 143802.64
      spawn_in_intersection: true
      special_scenario:
        '0':
          type: overtake_parked_vehicle
          config: dh
          stopped_vehicle:
          - - 365393.1
            - 143807.98
            - 1.29
        '1':
          type: overtake_parked_vehicle
          config: dh
          roadblock_locations_to_spawn_agents: []
          stopped_vehicle:
          - - 365393.1
            - 143807.98
            - 1.29
    2d754c5d1e325ba4:
      extra_agents_to_spawn:
      - - 664578.55
        - 3999042.58
        - 0
      goal:
        left: 664567.07, 3999206.41
        right: null
        straight: null
      spawn_in_intersection: true
    5016a2a4ad1350d6:
      extra_agents_to_spawn: []
      goal:
        left: null
        right: null
        straight: null
      spawn_in_intersection: false
      special_scenario:
        '0':
          type: approaching_construction_zone
          cones:
          - - 664434.93
            - 3998307.44
            - 0
          - - 664434.93
            - 3998297.44
            - 0
          - - 664439.93
            - 3998302.44
            - 0
          - - 664430.93
            - 3998302.44
            - 0
          - - 664437.93
            - 3998305.44
            - 0
          - - 664437.93
            - 3998299.44
            - 0
          - - 664431.93
            - 3998305.44
            - 0
          - - 664431.93
            - 3998299.44
            - 0
          config: dl
    5eb9b51ebe1758df:
      extra_agents_to_spawn:
      - - 664418.37
        - 3997722.05
        - 0
        - behavior: cautious
          snap: true
      goal:
        left: null
        right: null
        straight: null
      spawn_in_intersection: true
    71f182558ee95100:
      extra_agents_to_spawn: []
      goal:
        left: null
        right: null
        straight: null
      spawn_in_intersection: true
      special_scenario:
        '0':
          type: passing_stopped_bus
          pedestrian:
          - - 365420.6
            - 143949.66
            - 365427.59
            - 143949.83
            - null
          - - 365418.51
            - 143949.66
            - 365429.59
            - 143949.83
            - null
          - - 365416.51
            - 143953.66
            - 365429.59
            - 143953.83
            - null
          stopped_bus:
          - - 365421.39
            - 143944.2
            - 1.74533
    81f400b414215325:
      extra_agents_to_spawn: []
      goal:
        left: null
        right: null
        straight: null
      spawn_in_intersection: false
      special_scenario:
        '0':
          type: nudge_around_parked_vehicle
          stopped_vehicle:
          - - 365106.2
            - 143350.05
            - -1.95
    948201ecfe2c560a:
      extra_agents_to_spawn: []
      goal:
        left: null
        right: null
        straight: null
      spawn_in_intersection: false
      special_scenario:
        '0':
          type: nudge_around_parked_vehicle
          stopped_vehicle:
          - - 365258.93
            - 143656.6
            - -2.91
    be26ad0fc1035314:
      extra_agents_to_spawn:
      - - 664578.55
        - 3999042.58
        - 0
      goal:
        left: 664567.07, 3999206.41
        right: null
        straight: null
      spawn_in_intersection: true
    c710330e5114501c:
      extra_agents_to_spawn: []
      goal:
        left: null
        right: null
        straight: null
      spawn_in_intersection: true
      special_scenario:
        '0':
          type: avoid_crashed_cars
          stopped_vehicle:
          - - 365416.63
            - 143884.74
            - 3.1415
          - - 365416.15
            - 143880.73
            - 1.74533
        '1':
          type: avoid_crashed_cars
          config: gr
          stopped_vehicle:
          - - 365416.95
            - 143878.37
            - 2.0944
          - - 365419.38
            - 143881.56
            - -1.91533
    cd0e827efbe85a8f:
      extra_agents_to_spawn:
      - - 365123.67
        - 143382.68
        - 0
      - - 365129.0
        - 143387.04
        - 0
      goal:
        left: null
        right: null
        straight: null
      spawn_in_intersection: true
    cfad48a855765482:
      extra_agents_to_spawn:
      - - 664578.55
        - 3999042.58
        - 0
      goal:
        left: 664567.07, 3999206.41
        right: null
        straight: null
      spawn_in_intersection: true
      special_scenario:
        '0':
          type: approaching_construction_zone
          cones:
          - - 664583.73
            - 3999071.91
            - -1.54
          - - 664583.11
            - 3999074.39
            - -1.54
          - - 664582.43
            - 3999077.35
            - -1.54
          config: a0
    feb82815b92a5512:
      extra_agents_to_spawn:
      - - 664418.07
        - 3997723.95
        - 0
      goal:
        left: 664385.35, 3997616.77
        right: 664486.82, 3997505.52
        straight: null
      spawn_in_intersection: true


    
